% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/partitioned-output.R
\name{partitioned_output}
\alias{partitioned_output}
\alias{partition_by}
\alias{partition_by_key}
\alias{partition_by_max_size}
\title{Helper functions to export data as a partitioned output}
\usage{
partition_by(
  base_path,
  ...,
  key = NULL,
  include_key = NULL,
  max_rows_per_file = NULL,
  approximate_bytes_per_file = NULL
)

partition_by_key(base_path, ..., by, include_key = TRUE)

partition_by_max_size(base_path, ..., max_size)
}
\arguments{
\item{base_path}{The base path for the output files. Use the \code{mkdir} option
of the \verb{sink_*} or \verb{write_*_polars()} functions to ensure directories in the
path are created.}

\item{...}{These dots are for future extensions and must be empty.}

\item{key}{Something can be coerced to a list of Polars expressions. Used to
partition by.}

\item{include_key}{A bool indicating whether to include the key columns in
the output files. Can only be used if \code{key} is specified, otherwise should
be \code{NULL}.}

\item{max_rows_per_file}{An integer-ish value indicating the maximum size in
rows of each of the generated files.}

\item{approximate_bytes_per_file}{An integer-ish value indicating approximate
number of bytes to write to each file, or \code{NULL}. This is measured as the
estimated size of the DataFrame in memory. Defaults to approximately 4GB when
\code{key} is specified without \code{max_rows_per_file}, otherwise unlimited.}

\item{by}{\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#deprecated}{\figure{lifecycle-deprecated.svg}{options: alt='[Deprecated]'}}}{\strong{[Deprecated]}} Something can be coerced to a
list of Polars expressions. Used to partition by. Use the \code{key} property of
\code{partition_by()} instead.}

\item{max_size}{\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#deprecated}{\figure{lifecycle-deprecated.svg}{options: alt='[Deprecated]'}}}{\strong{[Deprecated]}} An integer-ish value
indicating the maximum size in rows of each of the generated files. Use the
\code{max_rows_per_file} property of \code{partition_by()} instead.}
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}

Partitioning schemes are used to write multiple files with \verb{sink_*()} and
\verb{write_*_polars()} functions.
\itemize{
\item \code{partition_by()}: Configuration for writing to multiple output files.
Supports partitioning by key, file size limits, or both.
}

The following functions are deprecated and will be removed in a future release:
\itemize{
\item \ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#deprecated}{\figure{lifecycle-deprecated.svg}{options: alt='[Deprecated]'}}}{\strong{[Deprecated]}} \code{partition_by_key()}: use
\code{partition_by(key = ...)} instead.
\item \ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#deprecated}{\figure{lifecycle-deprecated.svg}{options: alt='[Deprecated]'}}}{\strong{[Deprecated]}} \code{partition_by_max_size()}: use
\code{partition_by(max_rows_per_file = ...)} instead.
}
}
