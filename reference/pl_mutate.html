<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This creates new columns that are functions of existing variables. It
can also modify (if the name is the same as an existing column) and
delete columns (by setting their value to NULL)."><title>Create, modify, and delete columns — pl_mutate • tidypolars</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Mulish-0.4.7/font.css" rel="stylesheet"><link href="../deps/Fira_Code-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Create, modify, and delete columns — pl_mutate"><meta property="og:description" content="This creates new columns that are functions of existing variables. It
can also modify (if the name is the same as an existing column) and
delete columns (by setting their value to NULL)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tidypolars</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/tidypolars.html">Get started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/faq.html">FAQ</a>
    <a class="dropdown-item" href="../articles/r-and-polars-expressions.html">R and Polars expressions</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/etiennebacher/tidypolars/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create, modify, and delete columns</h1>
      <small class="dont-index">Source: <a href="https://github.com/etiennebacher/tidypolars/blob/HEAD/R/mutate.R" class="external-link"><code>R/mutate.R</code></a></small>
      <div class="d-none name"><code>pl_mutate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This creates new columns that are functions of existing variables. It
can also modify (if the name is the same as an existing column) and
delete columns (by setting their value to NULL).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pl_mutate</span><span class="op">(</span><span class="va">.data</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.data</dt>
<dd><p>A Polars Data/LazyFrame</p></dd>


<dt>...</dt>
<dd><p>Name-value pairs. The name gives the name of the column in
the output. The value can be:</p><ul><li><p>A vector the same length as the current group (or the whole data
frame if ungrouped).</p></li>
<li><p>NULL, to remove the column.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A lot of functions available in base R (cos, sin, multiplying, etc.) or
in other packages (dplyr::lag(), etc.) are implemented in an efficient
way in Polars. These functions will be automatically translated to Polars
syntax under the hood so that you can continue using the classic R syntax and
functions.</p>
<p>If a Polars built-in replacement doesn't exist (for example for custom
functions), the R function will be passed to <code>map()</code> in the Polars workflow.
Note that this is slower than using functions that can be translated to
Polars syntax.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">pl_iris</span> <span class="op">&lt;-</span> <span class="fu">polars</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/polars/man/pl_pl.html" class="external-link">pl</a></span><span class="op">$</span><span class="fu">DataFrame</span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># classic operation</span></span></span>
<span class="r-in"><span><span class="fu">pl_mutate</span><span class="op">(</span><span class="va">pl_iris</span>, x <span class="op">=</span> <span class="va">Sepal.Width</span> <span class="op">+</span> <span class="va">Sepal.Length</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (150, 6)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────────────┬─────────────┬──────────────┬─────────────┬───────────┬─────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ Sepal.Length ┆ Sepal.Width ┆ Petal.Length ┆ Petal.Width ┆ Species   ┆ x   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---          ┆ ---         ┆ ---          ┆ ---         ┆ ---       ┆ --- │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ f64          ┆ f64         ┆ f64          ┆ f64         ┆ cat       ┆ f64 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════════════╪═════════════╪══════════════╪═════════════╪═══════════╪═════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.1          ┆ 3.5         ┆ 1.4          ┆ 0.2         ┆ setosa    ┆ 8.6 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.9          ┆ 3.0         ┆ 1.4          ┆ 0.2         ┆ setosa    ┆ 7.9 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.7          ┆ 3.2         ┆ 1.3          ┆ 0.2         ┆ setosa    ┆ 7.9 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.6          ┆ 3.1         ┆ 1.5          ┆ 0.2         ┆ setosa    ┆ 7.7 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …            ┆ …           ┆ …            ┆ …           ┆ …         ┆ …   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.3          ┆ 2.5         ┆ 5.0          ┆ 1.9         ┆ virginica ┆ 8.8 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.5          ┆ 3.0         ┆ 5.2          ┆ 2.0         ┆ virginica ┆ 9.5 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.2          ┆ 3.4         ┆ 5.4          ┆ 2.3         ┆ virginica ┆ 9.6 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.9          ┆ 3.0         ┆ 5.1          ┆ 1.8         ┆ virginica ┆ 8.9 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────────────┴─────────────┴──────────────┴─────────────┴───────────┴─────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># logical operation</span></span></span>
<span class="r-in"><span><span class="fu">pl_mutate</span><span class="op">(</span><span class="va">pl_iris</span>, x <span class="op">=</span> <span class="va">Sepal.Width</span> <span class="op">&gt;</span> <span class="va">Sepal.Length</span> <span class="op">&amp;</span> <span class="va">Petal.Width</span> <span class="op">&gt;</span> <span class="va">Petal.Length</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (150, 6)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────────────┬─────────────┬──────────────┬─────────────┬───────────┬───────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ Sepal.Length ┆ Sepal.Width ┆ Petal.Length ┆ Petal.Width ┆ Species   ┆ x     │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---          ┆ ---         ┆ ---          ┆ ---         ┆ ---       ┆ ---   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ f64          ┆ f64         ┆ f64          ┆ f64         ┆ cat       ┆ bool  │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════════════╪═════════════╪══════════════╪═════════════╪═══════════╪═══════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.1          ┆ 3.5         ┆ 1.4          ┆ 0.2         ┆ setosa    ┆ false │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.9          ┆ 3.0         ┆ 1.4          ┆ 0.2         ┆ setosa    ┆ false │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.7          ┆ 3.2         ┆ 1.3          ┆ 0.2         ┆ setosa    ┆ false │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.6          ┆ 3.1         ┆ 1.5          ┆ 0.2         ┆ setosa    ┆ false │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …            ┆ …           ┆ …            ┆ …           ┆ …         ┆ …     │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.3          ┆ 2.5         ┆ 5.0          ┆ 1.9         ┆ virginica ┆ false │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.5          ┆ 3.0         ┆ 5.2          ┆ 2.0         ┆ virginica ┆ false │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.2          ┆ 3.4         ┆ 5.4          ┆ 2.3         ┆ virginica ┆ false │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.9          ┆ 3.0         ┆ 5.1          ┆ 1.8         ┆ virginica ┆ false │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────────────┴─────────────┴──────────────┴─────────────┴───────────┴───────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># overwrite existing variable</span></span></span>
<span class="r-in"><span><span class="fu">pl_mutate</span><span class="op">(</span><span class="va">pl_iris</span>, Sepal.Width <span class="op">=</span> <span class="va">Sepal.Width</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (150, 5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────────────┬─────────────┬──────────────┬─────────────┬───────────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ Sepal.Length ┆ Sepal.Width ┆ Petal.Length ┆ Petal.Width ┆ Species   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---          ┆ ---         ┆ ---          ┆ ---         ┆ ---       │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ f64          ┆ f64         ┆ f64          ┆ f64         ┆ cat       │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════════════╪═════════════╪══════════════╪═════════════╪═══════════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.1          ┆ 7.0         ┆ 1.4          ┆ 0.2         ┆ setosa    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.9          ┆ 6.0         ┆ 1.4          ┆ 0.2         ┆ setosa    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.7          ┆ 6.4         ┆ 1.3          ┆ 0.2         ┆ setosa    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.6          ┆ 6.2         ┆ 1.5          ┆ 0.2         ┆ setosa    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …            ┆ …           ┆ …            ┆ …           ┆ …         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.3          ┆ 5.0         ┆ 5.0          ┆ 1.9         ┆ virginica │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.5          ┆ 6.0         ┆ 5.2          ┆ 2.0         ┆ virginica │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.2          ┆ 6.8         ┆ 5.4          ┆ 2.3         ┆ virginica │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.9          ┆ 6.0         ┆ 5.1          ┆ 1.8         ┆ virginica │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────────────┴─────────────┴──────────────┴─────────────┴───────────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># grouped computation</span></span></span>
<span class="r-in"><span><span class="va">pl_iris</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="pl_group_by.html">pl_group_by</a></span><span class="op">(</span><span class="va">Species</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pl_mutate</span><span class="op">(</span></span></span>
<span class="r-in"><span>    foo <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (150, 6)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────────────┬─────────────┬──────────────┬─────────────┬───────────┬───────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ Sepal.Length ┆ Sepal.Width ┆ Petal.Length ┆ Petal.Width ┆ Species   ┆ foo   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---          ┆ ---         ┆ ---          ┆ ---         ┆ ---       ┆ ---   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ f64          ┆ f64         ┆ f64          ┆ f64         ┆ cat       ┆ f64   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════════════╪═════════════╪══════════════╪═════════════╪═══════════╪═══════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.1          ┆ 3.5         ┆ 1.4          ┆ 0.2         ┆ setosa    ┆ 5.006 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.9          ┆ 3.0         ┆ 1.4          ┆ 0.2         ┆ setosa    ┆ 5.006 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.7          ┆ 3.2         ┆ 1.3          ┆ 0.2         ┆ setosa    ┆ 5.006 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.6          ┆ 3.1         ┆ 1.5          ┆ 0.2         ┆ setosa    ┆ 5.006 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …            ┆ …           ┆ …            ┆ …           ┆ …         ┆ …     │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.3          ┆ 2.5         ┆ 5.0          ┆ 1.9         ┆ virginica ┆ 6.588 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.5          ┆ 3.0         ┆ 5.2          ┆ 2.0         ┆ virginica ┆ 6.588 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.2          ┆ 3.4         ┆ 5.4          ┆ 2.3         ┆ virginica ┆ 6.588 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.9          ┆ 3.0         ┆ 5.1          ┆ 1.8         ┆ virginica ┆ 6.588 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────────────┴─────────────┴──────────────┴─────────────┴───────────┴───────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># across() is available</span></span></span>
<span class="r-in"><span><span class="va">pl_iris</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pl_mutate</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span>.cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"Sepal"</span><span class="op">)</span>, .fns <span class="op">=</span> <span class="va">mean</span>, .names <span class="op">=</span> <span class="st">"{.fn}_of_{.col}"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (150, 7)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌────────────┬─────────────┬───────────────┬─────────────┬───────────┬──────────────┬──────────────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ Sepal.Leng ┆ Sepal.Width ┆ Petal.Length  ┆ Petal.Width ┆ Species   ┆ mean_of_Sepa ┆ mean_of_Sepa │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ th         ┆ ---         ┆ ---           ┆ ---         ┆ ---       ┆ l.Length     ┆ l.Width      │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---        ┆ f64         ┆ f64           ┆ f64         ┆ cat       ┆ ---          ┆ ---          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ f64        ┆             ┆               ┆             ┆           ┆ f64          ┆ f64          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞════════════╪═════════════╪═══════════════╪═════════════╪═══════════╪══════════════╪══════════════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.1        ┆ 3.5         ┆ 1.4           ┆ 0.2         ┆ setosa    ┆ 5.843333     ┆ 3.057333     │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.9        ┆ 3.0         ┆ 1.4           ┆ 0.2         ┆ setosa    ┆ 5.843333     ┆ 3.057333     │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.7        ┆ 3.2         ┆ 1.3           ┆ 0.2         ┆ setosa    ┆ 5.843333     ┆ 3.057333     │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.6        ┆ 3.1         ┆ 1.5           ┆ 0.2         ┆ setosa    ┆ 5.843333     ┆ 3.057333     │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …          ┆ …           ┆ …             ┆ …           ┆ …         ┆ …            ┆ …            │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.3        ┆ 2.5         ┆ 5.0           ┆ 1.9         ┆ virginica ┆ 5.843333     ┆ 3.057333     │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.5        ┆ 3.0         ┆ 5.2           ┆ 2.0         ┆ virginica ┆ 5.843333     ┆ 3.057333     │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.2        ┆ 3.4         ┆ 5.4           ┆ 2.3         ┆ virginica ┆ 5.843333     ┆ 3.057333     │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.9        ┆ 3.0         ┆ 5.1           ┆ 1.8         ┆ virginica ┆ 5.843333     ┆ 3.057333     │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └────────────┴─────────────┴───────────────┴─────────────┴───────────┴──────────────┴──────────────┘</span>
<span class="r-in"><span><span class="co"># It can receive several types of functions:</span></span></span>
<span class="r-in"><span><span class="va">pl_iris</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pl_mutate</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      .cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"Sepal"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      .fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">mean</span>, sd <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">.x</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      .names <span class="op">=</span> <span class="st">"{.fn}_of_{.col}"</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (150, 9)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌────────────┬───────────┬────────────┬───────────┬───┬────────────┬────────────┬────────────┬────────────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ Sepal.Leng ┆ Sepal.Wid ┆ Petal.Leng ┆ Petal.Wid ┆ … ┆ mean_of_Se ┆ sd_of_Sepa ┆ mean_of_Se ┆ sd_of_Sepa │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ th         ┆ th        ┆ th         ┆ th        ┆   ┆ pal.Length ┆ l.Length   ┆ pal.Width  ┆ l.Width    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---        ┆ ---       ┆ ---        ┆ ---       ┆   ┆ ---        ┆ ---        ┆ ---        ┆ ---        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ f64        ┆ f64       ┆ f64        ┆ f64       ┆   ┆ f64        ┆ f64        ┆ f64        ┆ f64        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞════════════╪═══════════╪════════════╪═══════════╪═══╪════════════╪════════════╪════════════╪════════════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.1        ┆ 3.5       ┆ 1.4        ┆ 0.2       ┆ … ┆ 5.843333   ┆ 0.828066   ┆ 3.057333   ┆ 0.435866   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.9        ┆ 3.0       ┆ 1.4        ┆ 0.2       ┆ … ┆ 5.843333   ┆ 0.828066   ┆ 3.057333   ┆ 0.435866   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.7        ┆ 3.2       ┆ 1.3        ┆ 0.2       ┆ … ┆ 5.843333   ┆ 0.828066   ┆ 3.057333   ┆ 0.435866   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.6        ┆ 3.1       ┆ 1.5        ┆ 0.2       ┆ … ┆ 5.843333   ┆ 0.828066   ┆ 3.057333   ┆ 0.435866   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …          ┆ …         ┆ …          ┆ …         ┆ … ┆ …          ┆ …          ┆ …          ┆ …          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.3        ┆ 2.5       ┆ 5.0        ┆ 1.9       ┆ … ┆ 5.843333   ┆ 0.828066   ┆ 3.057333   ┆ 0.435866   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.5        ┆ 3.0       ┆ 5.2        ┆ 2.0       ┆ … ┆ 5.843333   ┆ 0.828066   ┆ 3.057333   ┆ 0.435866   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.2        ┆ 3.4       ┆ 5.4        ┆ 2.3       ┆ … ┆ 5.843333   ┆ 0.828066   ┆ 3.057333   ┆ 0.435866   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.9        ┆ 3.0       ┆ 5.1        ┆ 1.8       ┆ … ┆ 5.843333   ┆ 0.828066   ┆ 3.057333   ┆ 0.435866   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └────────────┴───────────┴────────────┴───────────┴───┴────────────┴────────────┴────────────┴────────────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Embracing an external variable works</span></span></span>
<span class="r-in"><span><span class="va">some_value</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="fu">pl_mutate</span><span class="op">(</span><span class="va">pl_iris</span>, x <span class="op">=</span> <span class="op">{</span><span class="op">{</span> <span class="va">some_value</span> <span class="op">}</span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (150, 6)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────────────┬─────────────┬──────────────┬─────────────┬───────────┬─────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ Sepal.Length ┆ Sepal.Width ┆ Petal.Length ┆ Petal.Width ┆ Species   ┆ x   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---          ┆ ---         ┆ ---          ┆ ---         ┆ ---       ┆ --- │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ f64          ┆ f64         ┆ f64          ┆ f64         ┆ cat       ┆ f64 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════════════╪═════════════╪══════════════╪═════════════╪═══════════╪═════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.1          ┆ 3.5         ┆ 1.4          ┆ 0.2         ┆ setosa    ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.9          ┆ 3.0         ┆ 1.4          ┆ 0.2         ┆ setosa    ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.7          ┆ 3.2         ┆ 1.3          ┆ 0.2         ┆ setosa    ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4.6          ┆ 3.1         ┆ 1.5          ┆ 0.2         ┆ setosa    ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …            ┆ …           ┆ …            ┆ …           ┆ …         ┆ …   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.3          ┆ 2.5         ┆ 5.0          ┆ 1.9         ┆ virginica ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.5          ┆ 3.0         ┆ 5.2          ┆ 2.0         ┆ virginica ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 6.2          ┆ 3.4         ┆ 5.4          ┆ 2.3         ┆ virginica ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 5.9          ┆ 3.0         ┆ 5.1          ┆ 1.8         ┆ virginica ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────────────┴─────────────┴──────────────┴─────────────┴───────────┴─────┘</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Etienne Bacher.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

