<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Pivot a DataFrame from long to wide"><title>Pivot a DataFrame from long to wide — pivot_wider.RPolarsDataFrame • tidypolars</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Pivot a DataFrame from long to wide — pivot_wider.RPolarsDataFrame"><meta property="og:description" content="Pivot a DataFrame from long to wide"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tidypolars</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/tidypolars.html">Get started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/faq.html">FAQ</a>
    <a class="dropdown-item" href="../articles/r-and-polars-expressions.html">R and Polars expressions</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/etiennebacher/tidypolars/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Pivot a DataFrame from long to wide</h1>
      <small class="dont-index">Source: <a href="https://github.com/etiennebacher/tidypolars/blob/HEAD/R/pivot_wider.R" class="external-link"><code>R/pivot_wider.R</code></a></small>
      <div class="d-none name"><code>pivot_wider.RPolarsDataFrame.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Pivot a DataFrame from long to wide</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for RPolarsDataFrame</span></span>
<span><span class="fu">pivot_wider</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  id_cols <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  names_from <span class="op">=</span> <span class="va">name</span>,</span>
<span>  values_from <span class="op">=</span> <span class="va">value</span>,</span>
<span>  names_prefix <span class="op">=</span> <span class="st">""</span>,</span>
<span>  names_sep <span class="op">=</span> <span class="st">"_"</span>,</span>
<span>  names_glue <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  values_fill <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>A Polars DataFrame (LazyFrames are not supported).</p></dd>


<dt>...</dt>
<dd><p>Not used.</p></dd>


<dt>id_cols</dt>
<dd><p>A set of columns that uniquely identify each observation.
Typically used when you have redundant variables, i.e. variables whose
values are perfectly correlated with existing variables.</p>
<p>Defaults to all columns in data except for the columns specified through
<code>names_from</code> and <code>values_from</code>. If a tidyselect expression is supplied, it
will be evaluated on data after removing the columns specified through
<code>names_from</code> and <code>values_from</code>.</p></dd>


<dt>names_from</dt>
<dd><p>The (quoted or unquoted) column names whose values will be
used for the names of the new columns.</p></dd>


<dt>values_from</dt>
<dd><p>The (quoted or unquoted) column names whose values will be
used to fill the new columns.</p></dd>


<dt>names_prefix</dt>
<dd><p>String added to the start of every variable name. This is
particularly useful if <code>names_from</code> is a numeric vector and you want to
create syntactic variable names.</p></dd>


<dt>names_sep</dt>
<dd><p>If <code>names_from</code> or <code>values_from</code> contains multiple
variables, this will be used to join their values together into a single
string to use as a column name.</p></dd>


<dt>names_glue</dt>
<dd><p>Instead of <code>names_sep</code> and <code>names_prefix</code>, you can supply a
<code>glue</code> specification that uses the <code>names_from</code> columns to create custom
column names.</p></dd>


<dt>values_fill</dt>
<dd><p>A scalar that will be used to replace missing values in
the new columns. Note that the type of this value will be applied to new
columns. For example, if you provide a character value to fill numeric
columns, then all these columns will be converted to character.</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">pl_fish_encounters</span> <span class="op">&lt;-</span> <span class="fu">polars</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/polars/man/pl_pl.html" class="external-link">pl</a></span><span class="op">$</span><span class="fu">DataFrame</span><span class="op">(</span><span class="fu">tidyr</span><span class="fu">::</span><span class="va"><a href="https://tidyr.tidyverse.org/reference/fish_encounters.html" class="external-link">fish_encounters</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pl_fish_encounters</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pivot_wider</span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">station</span>, values_from <span class="op">=</span> <span class="va">seen</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (19, 12)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────┬─────────┬───────┬────────┬───┬──────┬──────┬──────┬──────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ fish ┆ Release ┆ I80_1 ┆ Lisbon ┆ … ┆ BCE2 ┆ BCW2 ┆ MAE  ┆ MAW  │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---  ┆ ---     ┆ ---   ┆ ---    ┆   ┆ ---  ┆ ---  ┆ ---  ┆ ---  │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ cat  ┆ i32     ┆ i32   ┆ i32    ┆   ┆ i32  ┆ i32  ┆ i32  ┆ i32  │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════╪═════════╪═══════╪════════╪═══╪══════╪══════╪══════╪══════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4842 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1    ┆ 1    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4843 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1    ┆ 1    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4844 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1    ┆ 1    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4845 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ null ┆ null ┆ null ┆ null │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4847 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ null ┆ null ┆ null ┆ null │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …    ┆ …       ┆ …     ┆ …      ┆ … ┆ …    ┆ …    ┆ …    ┆ …    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4861 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1    ┆ 1    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4862 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ null ┆ null │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4863 ┆ 1       ┆ 1     ┆ null   ┆ … ┆ null ┆ null ┆ null ┆ null │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4864 ┆ 1       ┆ 1     ┆ null   ┆ … ┆ null ┆ null ┆ null ┆ null │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4865 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ null ┆ null ┆ null ┆ null │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────┴─────────┴───────┴────────┴───┴──────┴──────┴──────┴──────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pl_fish_encounters</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pivot_wider</span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">station</span>, values_from <span class="op">=</span> <span class="va">seen</span>, values_fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (19, 12)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────┬─────────┬───────┬────────┬───┬──────┬──────┬─────┬─────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ fish ┆ Release ┆ I80_1 ┆ Lisbon ┆ … ┆ BCE2 ┆ BCW2 ┆ MAE ┆ MAW │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---  ┆ ---     ┆ ---   ┆ ---    ┆   ┆ ---  ┆ ---  ┆ --- ┆ --- │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ cat  ┆ f64     ┆ f64   ┆ f64    ┆   ┆ f64  ┆ f64  ┆ f64 ┆ f64 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════╪═════════╪═══════╪════════╪═══╪══════╪══════╪═════╪═════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4842 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 1.0  ┆ 1.0  ┆ 1.0 ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4843 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 1.0  ┆ 1.0  ┆ 1.0 ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4844 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 1.0  ┆ 1.0  ┆ 1.0 ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4845 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 0.0  ┆ 0.0  ┆ 0.0 ┆ 0.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4847 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 0.0  ┆ 0.0  ┆ 0.0 ┆ 0.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …    ┆ …       ┆ …     ┆ …      ┆ … ┆ …    ┆ …    ┆ …   ┆ …   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4861 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 1.0  ┆ 1.0  ┆ 1.0 ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4862 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 1.0  ┆ 1.0  ┆ 0.0 ┆ 0.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4863 ┆ 1.0     ┆ 1.0   ┆ 0.0    ┆ … ┆ 0.0  ┆ 0.0  ┆ 0.0 ┆ 0.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4864 ┆ 1.0     ┆ 1.0   ┆ 0.0    ┆ … ┆ 0.0  ┆ 0.0  ┆ 0.0 ┆ 0.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4865 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 0.0  ┆ 0.0  ┆ 0.0 ┆ 0.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────┴─────────┴───────┴────────┴───┴──────┴──────┴─────┴─────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># be careful about the type of the replacement value!</span></span></span>
<span class="r-in"><span><span class="va">pl_fish_encounters</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pivot_wider</span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">station</span>, values_from <span class="op">=</span> <span class="va">seen</span>, values_fill <span class="op">=</span> <span class="st">"a"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (19, 12)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────┬─────────┬───────┬────────┬───┬──────┬──────┬─────┬─────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ fish ┆ Release ┆ I80_1 ┆ Lisbon ┆ … ┆ BCE2 ┆ BCW2 ┆ MAE ┆ MAW │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---  ┆ ---     ┆ ---   ┆ ---    ┆   ┆ ---  ┆ ---  ┆ --- ┆ --- │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ cat  ┆ str     ┆ str   ┆ str    ┆   ┆ str  ┆ str  ┆ str ┆ str │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════╪═════════╪═══════╪════════╪═══╪══════╪══════╪═════╪═════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4842 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1   ┆ 1   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4843 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1   ┆ 1   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4844 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1   ┆ 1   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4845 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ a    ┆ a    ┆ a   ┆ a   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4847 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ a    ┆ a    ┆ a   ┆ a   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …    ┆ …       ┆ …     ┆ …      ┆ … ┆ …    ┆ …    ┆ …   ┆ …   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4861 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1   ┆ 1   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4862 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ a   ┆ a   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4863 ┆ 1       ┆ 1     ┆ a      ┆ … ┆ a    ┆ a    ┆ a   ┆ a   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4864 ┆ 1       ┆ 1     ┆ a      ┆ … ┆ a    ┆ a    ┆ a   ┆ a   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4865 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ a    ┆ a    ┆ a   ┆ a   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────┴─────────┴───────┴────────┴───┴──────┴──────┴─────┴─────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using "names_glue" to specify the names of new columns</span></span></span>
<span class="r-in"><span><span class="va">production</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  product <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AI"</span>, <span class="st">"EI"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  year <span class="op">=</span> <span class="fl">2000</span><span class="op">:</span><span class="fl">2014</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">(</span><span class="va">product</span> <span class="op">==</span> <span class="st">"A"</span> <span class="op">&amp;</span> <span class="va">country</span> <span class="op">==</span> <span class="st">"AI"</span><span class="op">)</span> <span class="op">|</span> <span class="va">product</span> <span class="op">==</span> <span class="st">"B"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>production <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">45</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/polars/man/as_polars_df.html" class="external-link">as_polars_df</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">production</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (45, 4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌─────────┬─────────┬──────┬────────────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ product ┆ country ┆ year ┆ production │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---     ┆ ---     ┆ ---  ┆ ---        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ cat     ┆ cat     ┆ i32  ┆ i32        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞═════════╪═════════╪══════╪════════════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ A       ┆ AI      ┆ 2000 ┆ 1          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ AI      ┆ 2000 ┆ 2          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ EI      ┆ 2000 ┆ 3          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ A       ┆ AI      ┆ 2001 ┆ 4          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ AI      ┆ 2001 ┆ 5          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …       ┆ …       ┆ …    ┆ …          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ AI      ┆ 2013 ┆ 41         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ EI      ┆ 2013 ┆ 42         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ A       ┆ AI      ┆ 2014 ┆ 43         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ AI      ┆ 2014 ┆ 44         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ EI      ┆ 2014 ┆ 45         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └─────────┴─────────┴──────┴────────────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">production</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pivot_wider</span><span class="op">(</span></span></span>
<span class="r-in"><span>    names_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">product</span>, <span class="va">country</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    values_from <span class="op">=</span> <span class="va">production</span>,</span></span>
<span class="r-in"><span>    names_glue <span class="op">=</span> <span class="st">"prod_{product}_{country}"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (15, 4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────┬───────────┬───────────┬───────────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ year ┆ prod_A_AI ┆ prod_B_AI ┆ prod_B_EI │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---  ┆ ---       ┆ ---       ┆ ---       │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ i32  ┆ i32       ┆ i32       ┆ i32       │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════╪═══════════╪═══════════╪═══════════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2000 ┆ 1         ┆ 2         ┆ 3         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2001 ┆ 4         ┆ 5         ┆ 6         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2002 ┆ 7         ┆ 8         ┆ 9         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2003 ┆ 10        ┆ 11        ┆ 12        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2004 ┆ 13        ┆ 14        ┆ 15        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …    ┆ …         ┆ …         ┆ …         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2010 ┆ 31        ┆ 32        ┆ 33        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2011 ┆ 34        ┆ 35        ┆ 36        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2012 ┆ 37        ┆ 38        ┆ 39        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2013 ┆ 40        ┆ 41        ┆ 42        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2014 ┆ 43        ┆ 44        ┆ 45        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────┴───────────┴───────────┴───────────┘</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.etiennebacher.com" class="external-link">Etienne Bacher</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

