<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Pivot a Data/LazyFrame from long to wide — pivot_wider.polars_data_frame • tidypolars</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Pivot a Data/LazyFrame from long to wide — pivot_wider.polars_data_frame"><meta name="description" content="Pivot a Data/LazyFrame from long to wide"><meta property="og:description" content="Pivot a Data/LazyFrame from long to wide"><meta property="og:image" content="https://tidypolars.etiennebacher.com/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tidypolars</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.17.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/tidypolars.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/supported-functions.html">List of supported functions</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced</h6></li>
    <li><a class="dropdown-item" href="../articles/how-to-benchmark.html">How to benchmark tidypolars</a></li>
    <li><a class="dropdown-item" href="../articles/r-and-polars-expressions.html">R and Polars expressions</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/etiennebacher/tidypolars/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Pivot a Data/LazyFrame from long to wide</h1>
      <small class="dont-index">Source: <a href="https://github.com/etiennebacher/tidypolars/blob/main/R/pivot_wider.R" class="external-link"><code>R/pivot_wider.R</code></a></small>
      <div class="d-none name"><code>pivot_wider.polars_data_frame.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Pivot a Data/LazyFrame from long to wide</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'polars_data_frame'</span></span>
<span><span class="fu">pivot_wider</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  id_cols <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  names_from <span class="op">=</span> <span class="va">name</span>,</span>
<span>  values_from <span class="op">=</span> <span class="va">value</span>,</span>
<span>  names_prefix <span class="op">=</span> <span class="st">""</span>,</span>
<span>  names_sep <span class="op">=</span> <span class="st">"_"</span>,</span>
<span>  names_glue <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  values_fill <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'polars_lazy_frame'</span></span>
<span><span class="fu">pivot_wider</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  id_cols <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  names_from <span class="op">=</span> <span class="va">name</span>,</span>
<span>  values_from <span class="op">=</span> <span class="va">value</span>,</span>
<span>  names_prefix <span class="op">=</span> <span class="st">""</span>,</span>
<span>  names_sep <span class="op">=</span> <span class="st">"_"</span>,</span>
<span>  names_glue <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  values_fill <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A Polars Data/LazyFrame.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Dots which should be empty.</p></dd>


<dt id="arg-id-cols">id_cols<a class="anchor" aria-label="anchor" href="#arg-id-cols"></a></dt>
<dd><p>A set of columns that uniquely identify each observation.
Typically used when you have redundant variables, i.e. variables whose
values are perfectly correlated with existing variables.</p>
<p>Defaults to all columns in data except for the columns specified through
<code>names_from</code> and <code>values_from</code>. If a tidyselect expression is supplied, it
will be evaluated on data after removing the columns specified through
<code>names_from</code> and <code>values_from</code>.</p></dd>


<dt id="arg-names-from">names_from<a class="anchor" aria-label="anchor" href="#arg-names-from"></a></dt>
<dd><p>The (quoted or unquoted) column names whose values will be
used for the names of the new columns.</p></dd>


<dt id="arg-values-from">values_from<a class="anchor" aria-label="anchor" href="#arg-values-from"></a></dt>
<dd><p>The (quoted or unquoted) column names whose values will be
used to fill the new columns.</p></dd>


<dt id="arg-names-prefix">names_prefix<a class="anchor" aria-label="anchor" href="#arg-names-prefix"></a></dt>
<dd><p>String added to the start of every variable name. This is
particularly useful if <code>names_from</code> is a numeric vector and you want to
create syntactic variable names.</p></dd>


<dt id="arg-names-sep">names_sep<a class="anchor" aria-label="anchor" href="#arg-names-sep"></a></dt>
<dd><p>If <code>names_from</code> or <code>values_from</code> contains multiple
variables, this will be used to join their values together into a single
string to use as a column name.</p></dd>


<dt id="arg-names-glue">names_glue<a class="anchor" aria-label="anchor" href="#arg-names-glue"></a></dt>
<dd><p>Instead of <code>names_sep</code> and <code>names_prefix</code>, you can supply a
<code>glue</code> specification that uses the <code>names_from</code> columns to create custom
column names.</p></dd>


<dt id="arg-values-fill">values_fill<a class="anchor" aria-label="anchor" href="#arg-values-fill"></a></dt>
<dd><p>A scalar that will be used to replace missing values in
the new columns. Note that the type of this value will be applied to new
columns. For example, if you provide a character value to fill numeric
columns, then all these columns will be converted to character.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="unknown-arguments">Unknown arguments<a class="anchor" aria-label="anchor" href="#unknown-arguments"></a></h2>



<p>Arguments that are supported by the original implementation in the tidyverse
but are not listed above will throw a warning by default if they are
specified. To change this behavior to error instead, use
<code>options(tidypolars_unknown_args = "error")</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">pl_fish_encounters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://pola-rs.github.io/r-polars/man/as_polars_df.html" class="external-link">as_polars_df</a></span><span class="op">(</span><span class="fu">tidyr</span><span class="fu">::</span><span class="va"><a href="https://tidyr.tidyverse.org/reference/fish_encounters.html" class="external-link">fish_encounters</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pl_fish_encounters</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pivot_wider</span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">station</span>, values_from <span class="op">=</span> <span class="va">seen</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (19, 12)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────┬─────────┬───────┬────────┬───┬──────┬──────┬──────┬──────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ fish ┆ Release ┆ I80_1 ┆ Lisbon ┆ … ┆ BCE2 ┆ BCW2 ┆ MAE  ┆ MAW  │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---  ┆ ---     ┆ ---   ┆ ---    ┆   ┆ ---  ┆ ---  ┆ ---  ┆ ---  │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ cat  ┆ i32     ┆ i32   ┆ i32    ┆   ┆ i32  ┆ i32  ┆ i32  ┆ i32  │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════╪═════════╪═══════╪════════╪═══╪══════╪══════╪══════╪══════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4842 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1    ┆ 1    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4843 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1    ┆ 1    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4844 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1    ┆ 1    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4845 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ null ┆ null ┆ null ┆ null │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4847 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ null ┆ null ┆ null ┆ null │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …    ┆ …       ┆ …     ┆ …      ┆ … ┆ …    ┆ …    ┆ …    ┆ …    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4861 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1    ┆ 1    │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4862 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ null ┆ null │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4863 ┆ 1       ┆ 1     ┆ null   ┆ … ┆ null ┆ null ┆ null ┆ null │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4864 ┆ 1       ┆ 1     ┆ null   ┆ … ┆ null ┆ null ┆ null ┆ null │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4865 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ null ┆ null ┆ null ┆ null │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────┴─────────┴───────┴────────┴───┴──────┴──────┴──────┴──────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pl_fish_encounters</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pivot_wider</span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">station</span>, values_from <span class="op">=</span> <span class="va">seen</span>, values_fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (19, 12)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────┬─────────┬───────┬────────┬───┬──────┬──────┬─────┬─────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ fish ┆ Release ┆ I80_1 ┆ Lisbon ┆ … ┆ BCE2 ┆ BCW2 ┆ MAE ┆ MAW │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---  ┆ ---     ┆ ---   ┆ ---    ┆   ┆ ---  ┆ ---  ┆ --- ┆ --- │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ cat  ┆ f64     ┆ f64   ┆ f64    ┆   ┆ f64  ┆ f64  ┆ f64 ┆ f64 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════╪═════════╪═══════╪════════╪═══╪══════╪══════╪═════╪═════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4842 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 1.0  ┆ 1.0  ┆ 1.0 ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4843 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 1.0  ┆ 1.0  ┆ 1.0 ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4844 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 1.0  ┆ 1.0  ┆ 1.0 ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4845 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 0.0  ┆ 0.0  ┆ 0.0 ┆ 0.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4847 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 0.0  ┆ 0.0  ┆ 0.0 ┆ 0.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …    ┆ …       ┆ …     ┆ …      ┆ … ┆ …    ┆ …    ┆ …   ┆ …   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4861 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 1.0  ┆ 1.0  ┆ 1.0 ┆ 1.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4862 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 1.0  ┆ 1.0  ┆ 0.0 ┆ 0.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4863 ┆ 1.0     ┆ 1.0   ┆ 0.0    ┆ … ┆ 0.0  ┆ 0.0  ┆ 0.0 ┆ 0.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4864 ┆ 1.0     ┆ 1.0   ┆ 0.0    ┆ … ┆ 0.0  ┆ 0.0  ┆ 0.0 ┆ 0.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4865 ┆ 1.0     ┆ 1.0   ┆ 1.0    ┆ … ┆ 0.0  ┆ 0.0  ┆ 0.0 ┆ 0.0 │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────┴─────────┴───────┴────────┴───┴──────┴──────┴─────┴─────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># be careful about the type of the replacement value!</span></span></span>
<span class="r-in"><span><span class="va">pl_fish_encounters</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pivot_wider</span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">station</span>, values_from <span class="op">=</span> <span class="va">seen</span>, values_fill <span class="op">=</span> <span class="st">"a"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (19, 12)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────┬─────────┬───────┬────────┬───┬──────┬──────┬─────┬─────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ fish ┆ Release ┆ I80_1 ┆ Lisbon ┆ … ┆ BCE2 ┆ BCW2 ┆ MAE ┆ MAW │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---  ┆ ---     ┆ ---   ┆ ---    ┆   ┆ ---  ┆ ---  ┆ --- ┆ --- │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ cat  ┆ str     ┆ str   ┆ str    ┆   ┆ str  ┆ str  ┆ str ┆ str │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════╪═════════╪═══════╪════════╪═══╪══════╪══════╪═════╪═════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4842 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1   ┆ 1   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4843 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1   ┆ 1   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4844 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1   ┆ 1   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4845 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ a    ┆ a    ┆ a   ┆ a   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4847 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ a    ┆ a    ┆ a   ┆ a   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …    ┆ …       ┆ …     ┆ …      ┆ … ┆ …    ┆ …    ┆ …   ┆ …   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4861 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ 1   ┆ 1   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4862 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ 1    ┆ 1    ┆ a   ┆ a   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4863 ┆ 1       ┆ 1     ┆ a      ┆ … ┆ a    ┆ a    ┆ a   ┆ a   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4864 ┆ 1       ┆ 1     ┆ a      ┆ … ┆ a    ┆ a    ┆ a   ┆ a   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 4865 ┆ 1       ┆ 1     ┆ 1      ┆ … ┆ a    ┆ a    ┆ a   ┆ a   │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────┴─────────┴───────┴────────┴───┴──────┴──────┴─────┴─────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using "names_glue" to specify the names of new columns</span></span></span>
<span class="r-in"><span><span class="va">production</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  product <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AI"</span>, <span class="st">"EI"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  year <span class="op">=</span> <span class="fl">2000</span><span class="op">:</span><span class="fl">2014</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">(</span><span class="va">product</span> <span class="op">==</span> <span class="st">"A"</span> <span class="op">&amp;</span> <span class="va">country</span> <span class="op">==</span> <span class="st">"AI"</span><span class="op">)</span> <span class="op">|</span> <span class="va">product</span> <span class="op">==</span> <span class="st">"B"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>production <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">45</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://pola-rs.github.io/r-polars/man/as_polars_df.html" class="external-link">as_polars_df</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">production</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (45, 4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌─────────┬─────────┬──────┬────────────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ product ┆ country ┆ year ┆ production │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---     ┆ ---     ┆ ---  ┆ ---        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ cat     ┆ cat     ┆ i32  ┆ i32        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞═════════╪═════════╪══════╪════════════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ A       ┆ AI      ┆ 2000 ┆ 1          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ AI      ┆ 2000 ┆ 2          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ EI      ┆ 2000 ┆ 3          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ A       ┆ AI      ┆ 2001 ┆ 4          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ AI      ┆ 2001 ┆ 5          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …       ┆ …       ┆ …    ┆ …          │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ AI      ┆ 2013 ┆ 41         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ EI      ┆ 2013 ┆ 42         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ A       ┆ AI      ┆ 2014 ┆ 43         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ AI      ┆ 2014 ┆ 44         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ B       ┆ EI      ┆ 2014 ┆ 45         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └─────────┴─────────┴──────┴────────────┘</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">production</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pivot_wider</span><span class="op">(</span></span></span>
<span class="r-in"><span>    names_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">product</span>, <span class="va">country</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    values_from <span class="op">=</span> <span class="va">production</span>,</span></span>
<span class="r-in"><span>    names_glue <span class="op">=</span> <span class="st">"prod_{product}_{country}"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shape: (15, 4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ┌──────┬───────────┬───────────┬───────────┐</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ year ┆ prod_A_AI ┆ prod_B_AI ┆ prod_B_EI │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ ---  ┆ ---       ┆ ---       ┆ ---       │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ i32  ┆ i32       ┆ i32       ┆ i32       │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ╞══════╪═══════════╪═══════════╪═══════════╡</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2000 ┆ 1         ┆ 2         ┆ 3         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2001 ┆ 4         ┆ 5         ┆ 6         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2002 ┆ 7         ┆ 8         ┆ 9         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2003 ┆ 10        ┆ 11        ┆ 12        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2004 ┆ 13        ┆ 14        ┆ 15        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ …    ┆ …         ┆ …         ┆ …         │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2010 ┆ 31        ┆ 32        ┆ 33        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2011 ┆ 34        ┆ 35        ┆ 36        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2012 ┆ 37        ┆ 38        ┆ 39        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2013 ┆ 40        ┆ 41        ┆ 42        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> │ 2014 ┆ 43        ┆ 44        ┆ 45        │</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └──────┴───────────┴───────────┴───────────┘</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.etiennebacher.com" class="external-link">Etienne Bacher</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

